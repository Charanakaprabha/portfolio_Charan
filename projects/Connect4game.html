<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Connect Four - Internpe Task</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <style>
        * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Poppins', sans-serif;
}

body {
    background-color: #f5f5f5;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: 20px;
}

.container {
    background-color: white;
    border-radius: 10px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    padding: 30px;
    width: 100%;
    max-width: 600px;
    text-align: center;
}

h1 {
    color: #2c3e50;
    margin-bottom: 20px;
}

.game-info {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    flex-wrap: wrap;
    gap: 10px;
}

.player-turn {
    font-weight: 600;
    padding: 8px 15px;
    border-radius: 5px;
    background-color: #f8f9fa;
}

#player-turn.player1 {
    color: #e74c3c;
}

#player-turn.player2 {
    color: #3498db;
}

.scoreboard {
    display: flex;
    gap: 15px;
}

.player1-score {
    color: #e74c3c;
    font-weight: 600;
}

.player2-score {
    color: #3498db;
    font-weight: 600;
}

#reset-btn {
    padding: 8px 15px;
    background-color: #2c3e50;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s;
}

#reset-btn:hover {
    background-color: #1a252f;
}

.board-container {
    display: flex;
    justify-content: center;
    margin: 20px 0;
}

.board {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    grid-template-rows: repeat(6, 1fr);
    gap: 10px;
    background-color: #2980b9;
    padding: 15px;
    border-radius: 10px;
    box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.3);
}

.cell {
    width: 50px;
    height: 50px;
    background-color: white;
    border-radius: 50%;
    cursor: pointer;
    position: relative;
    transition: transform 0.2s;
}

.cell::before {
    content: '';
    position: absolute;
    top: -5px;
    left: -5px;
    right: -5px;
    bottom: -5px;
    border-radius: 50%;
    z-index: -1;
    opacity: 0;
    transition: opacity 0.3s;
}

.cell:hover::before {
    opacity: 1;
}

.cell.player1-hover::before {
    background-color: rgba(231, 76, 60, 0.3);
}

.cell.player2-hover::before {
    background-color: rgba(52, 152, 219, 0.3);
}

.cell.player1 {
    background-color: #e74c3c;
}

.cell.player2 {
    background-color: #3498db;
}

.message {
    height: 30px;
    font-weight: 600;
    margin-top: 15px;
    color: #27ae60;
}

@media (max-width: 600px) {
    .cell {
        width: 40px;
        height: 40px;
    }
    
    .game-info {
        flex-direction: column;
    }
}
    </style>
</head>
<body>
    <div class="container">
        <h1>Connect Four Game</h1>
        <div class="game-info">
            <div class="player-turn" id="player-turn">Player 1's Turn (Red)</div>
            <div class="scoreboard">
                <span class="player1-score">Player 1: 0</span>
                <span class="player2-score">Player 2: 0</span>
            </div>
            <button id="reset-btn">Reset Game</button>
        </div>
        
        <div class="board-container">
            <div class="board" id="board"></div>
        </div>
        
        <div class="message" id="message"></div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
    const board = document.getElementById('board');
    const playerTurnDisplay = document.getElementById('player-turn');
    const messageDisplay = document.getElementById('message');
    const resetButton = document.getElementById('reset-btn');
    const player1ScoreDisplay = document.querySelector('.player1-score');
    const player2ScoreDisplay = document.querySelector('.player2-score');
    
    const ROWS = 6;
    const COLUMNS = 7;
    let currentPlayer = 1;
    let gameBoard = Array(ROWS).fill().map(() => Array(COLUMNS).fill(0));
    let gameActive = true;
    let player1Score = 0;
    let player2Score = 0;
    
    function initGame() {
        board.innerHTML = '';
        gameBoard = Array(ROWS).fill().map(() => Array(COLUMNS).fill(0));
        gameActive = true;
        messageDisplay.textContent = '';
        
        for (let row = 0; row < ROWS; row++) {
            for (let col = 0; col < COLUMNS; col++) {
                const cell = document.createElement('div');
                cell.classList.add('cell');
                cell.dataset.row = row;
                cell.dataset.col = col;
                
                cell.addEventListener('mouseenter', () => {
                    if (gameActive) {
                        document.querySelectorAll('.cell').forEach(c => {
                            c.classList.remove('player1-hover', 'player2-hover');
                        });
                        
                        const hoverCol = parseInt(cell.dataset.col);
                        const cellsInColumn = document.querySelectorAll(`.cell[data-col="${hoverCol}"]`);
                        
                        let lowestEmptyCell = null;
                        for (let i = cellsInColumn.length - 1; i >= 0; i--) {
                            const row = parseInt(cellsInColumn[i].dataset.row);
                            const col = parseInt(cellsInColumn[i].dataset.col);
                            if (gameBoard[row][col] === 0) {
                                lowestEmptyCell = cellsInColumn[i];
                                break;
                            }
                        }
                        
                        if (lowestEmptyCell) {
                            lowestEmptyCell.classList.add(currentPlayer === 1 ? 'player1-hover' : 'player2-hover');
                        }
                    }
                });
                
                cell.addEventListener('click', handleCellClick);
                board.appendChild(cell);
            }
        }
        
        updatePlayerTurnDisplay();
    }
    
    function handleCellClick(e) {
        if (!gameActive) return;
        
        const col = parseInt(e.target.dataset.col);
        const row = findLowestEmptyRow(col);
        
        if (row === -1) return;
        
        gameBoard[row][col] = currentPlayer;
        
        const cell = document.querySelector(`.cell[data-row="${row}"][data-col="${col}"]`);
        cell.classList.add(currentPlayer === 1 ? 'player1' : 'player2');
        
        if (checkWin(row, col)) {
            gameActive = false;
            messageDisplay.textContent = `Player ${currentPlayer} wins!`;
            
            if (currentPlayer === 1) {
                player1Score++;
                player1ScoreDisplay.textContent = `Player 1: ${player1Score}`;
            } else {
                player2Score++;
                player2ScoreDisplay.textContent = `Player 2: ${player2Score}`;
            }
            
            return;
        }
        
        if (isBoardFull()) {
            gameActive = false;
            messageDisplay.textContent = "It's a draw!";
            return;
        }
        
        currentPlayer = currentPlayer === 1 ? 2 : 1;
        updatePlayerTurnDisplay();
    }
    
    function findLowestEmptyRow(col) {
        for (let row = ROWS - 1; row >= 0; row--) {
            if (gameBoard[row][col] === 0) {
                return row;
            }
        }
        return -1;
    }
    
    function checkWin(row, col) {
        const directions = [
            [0, 1],
            [1, 0],
            [1, 1],
            [1, -1]
        ];
        
        const player = gameBoard[row][col];
        
        for (const [dx, dy] of directions) {
            let count = 1;
            
            for (let i = 1; i < 4; i++) {
                const newRow = row + i * dx;
                const newCol = col + i * dy;
                
                if (
                    newRow < 0 || newRow >= ROWS ||
                    newCol < 0 || newCol >= COLUMNS ||
                    gameBoard[newRow][newCol] !== player
                ) {
                    break;
                }
                count++;
            }
            
            for (let i = 1; i < 4; i++) {
                const newRow = row - i * dx;
                const newCol = col - i * dy;
                
                if (
                    newRow < 0 || newRow >= ROWS ||
                    newCol < 0 || newCol >= COLUMNS ||
                    gameBoard[newRow][newCol] !== player
                ) {
                    break;
                }
                count++;
            }
            
            if (count >= 4) {
                highlightWinningCells(row, col, dx, dy, player);
                return true;
            }
        }
        
        return false;
    }
    
    function highlightWinningCells(row, col, dx, dy, player) {
        const winningCells = [];
        winningCells.push({row, col});
        
        for (let i = 1; i < 4; i++) {
            const newRow = row + i * dx;
            const newCol = col + i * dy;
            
            if (
                newRow < 0 || newRow >= ROWS ||
                newCol < 0 || newCol >= COLUMNS ||
                gameBoard[newRow][newCol] !== player
            ) {
                break;
            }
            winningCells.push({row: newRow, col: newCol});
        }
        
        for (let i = 1; i < 4; i++) {
            const newRow = row - i * dx;
            const newCol = col - i * dy;
            
            if (
                newRow < 0 || newRow >= ROWS ||
                newCol < 0 || newCol >= COLUMNS ||
                gameBoard[newRow][newCol] !== player
            ) {
                break;
            }
            winningCells.push({row: newRow, col: newCol});
        }
        
        winningCells.slice(0, 4).forEach(cell => {
            const cellElement = document.querySelector(`.cell[data-row="${cell.row}"][data-col="${cell.col}"]`);
            cellElement.style.boxShadow = `0 0 15px ${player === 1 ? '#e74c3c' : '#3498db'}`;
            cellElement.style.transform = 'scale(1.1)';
        });
    }
    
    function isBoardFull() {
        return gameBoard[0].every(cell => cell !== 0);
    }
    
    function updatePlayerTurnDisplay() {
        playerTurnDisplay.textContent = `Player ${currentPlayer}'s Turn (${currentPlayer === 1 ? 'Red' : 'Blue'})`;
        playerTurnDisplay.className = 'player-turn';
        playerTurnDisplay.classList.add(currentPlayer === 1 ? 'player1' : 'player2');
    }
    
    resetButton.addEventListener('click', () => {
        initGame();
    });
    
    initGame();
});
    </script>
</body>
</html>